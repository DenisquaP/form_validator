# Задание 
В базе данных хранится список шаблонов форм.

Шаблон формы, это структура, которая задается уникальным набором полей, с указанием их типов.
Пример шаблона формы:

```
{
    "name": "Form template name",
    "field_name_1": "email",
    "field_name_2": "phone"
}
```

Всего должно поддерживаться четыре типа данных полей: 
- email
- телефон
- дата
- текст.

Все типы кроме текста должны поддерживать валидацию. Телефон передается в стандартном формате +7 xxx xxx xx xx, дата передается в формате DD.MM.YYYY или YYYY-MM-DD.

Имя шаблона формы задается в свободной форме, например MyForm или Order Form.
Имена полей также задаются в свободной форме (желательно осмысленно), например user_name, order_date или lead_email.

На вход по урлу /get_form POST запросом передаются данные такого вида:
f_name1=value1&f_name2=value2

В ответ нужно вернуть имя шаблона формы, если она была найдена.
Чтобы найти подходящий шаблон нужно выбрать тот, поля которого совпали с полями в присланной форме. Совпадающими считаются поля, у которых совпали имя и тип значения. Полей в пришедшей форме может быть больше чем в шаблоне, в этом случае шаблон все равно будет считаться подходящим. Самое главное, чтобы все поля шаблона присутствовали в форме.

Если подходящей формы не нашлось, вернуть ответ в следующем формате

```
{
    f_name1: FIELD_TYPE,
    f_name2: FIELD_TYPE
}
```


где FIELD_TYPE это тип поля, выбранный на основе правил валидации, проверка правил должна производиться в следующем порядке дата, телефон, email, текст.
___
# Инструкция по запуску
- Скачайте репозиторий
- Создайте в корневой папке репозитория файл .env с наполнением по типу
```
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DATABASE=default
```
- Установите все необходимые пакеты `pip install -r requirements.txt`
- Запустите Docker compose
- Запустите сидер для наполнения MongoDB тестовыми данными `python -m seeder_code.seeder`
- Запустите приложение `uvicorn app.main:app --reload`
-- Можете запустить тесты(опционально)

## Endpoints
|Method|Endpoint|Описание|Body/Query params example|
|------|--------|--------|-----------------|
|**POST**|localhost:8000/create_form|Создать шаблон| {"name": "form122","def_text11": "text","def_email1": "email"}
|**POST**|localhost:8000/get_form|Поиск подходящего шаблона| Query params(пример на картинке)|
|**GET**|localhost:8000/get_forms|Все шаблоны| None|

![](/opt/query_params.png)